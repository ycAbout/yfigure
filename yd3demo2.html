<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="x"></div>
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src='./yd3.iife.js'> </script>
  <script> console.log(yd3)</script>
  <script>

    function createTitle(level, head) {
      let h = document.createElement(level); // Create the H1 element 
      let t = document.createTextNode(head); // Create a text element 
      h.appendChild(t); // Append the text node to the H1 element 
      document.body.appendChild(h); // Append the H1 element to the document
    }
    function br() {
      let br = document.createElement("br");
      document.body.appendChild(br);
    }

    //generate a sudo normal distributed dataset
    let dataHistogram = [["age"]];
    for (let i = 0; i < 600; i++) {
      let element = [(Math.random() + Math.random() + Math.random() + Math.random() + Math.random()) / 5 * 100]
      dataHistogram.push(element)
    }

    //let dataLineDot1 = [["group", "score"], [1, 50], [2, 80], [3, 30], [4, 40], [5, 20]];
    let dataLineDot1 = [["group", "score"], [1, 50], [2, -80], [3, 30], [4, 40], [5, 20]];
    let dataLineDot2 = [["group", "score1", "score2", "score3", "score4"],
    [1, 50, 50 - 20, 50 + 20, 50 + 40],
    [2, 160, 160 - 20, 160 + 20, 160 + 40],
    [3, 30, 30 - 20, 30 + 20, 30 + 40],
    [4, 80, 80 - 20, 80 + 20, 80 + 40],
    [5, 20, 20 - 20, 20 + 20, 20 + 40]
    ];

    let dataLineDot3 = [["age", "score1", "score2", "score3", "score4", "score5", "score6"]];
    for (i = 0; i < 50; i++) {
      let element = [i + 18, Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i)]
      dataLineDot3.push(element)
    }


    let dataScatter1 = [["age", "score1"]];
    for (i = 0; i < 50; i++) {
      let element = [i + 18, Math.floor(Math.random() * 100)]
      dataScatter1.push(element)
    }

    let dataScatter2 = [["age", "WWWWWWWiii", "score2", "gWggH", "i"]];
    for (i = 0; i < 60; i++) {
      let element = [i + 18, Math.floor(Math.random() * 100), Math.floor(Math.random() * 100 + 200), Math.floor(Math.random() * 100 + 400), Math.floor(Math.random() * 100 + 600)]
      dataScatter2.push(element)
    }
    let dataScatter3 = [["age", "score1", "score2", "score3", "score4", "score5", "score6"]];
    for (i = 0; i < 300; i++) {
      let element = [
        i + 18,
        Math.floor(Math.random() * 100 * (300 - i)),
        Math.floor(Math.random() * 100 * (300 - i)),
        Math.floor(Math.random() * 100 * (300 - i)),
        Math.floor(Math.random() * 100 * (300 - i)),
        Math.floor(Math.random() * 100 * (300 - i)),
        Math.floor(Math.random() * 100 * (300 - i))
      ]
      dataScatter3.push(element)
    }


    createTitle("H1", "yd3 Demo");
    createTitle("H2", "bar");

    let dataBar2 = [["group", "score"], [1, -50], [2, -80], [3, -30], [4, -70], [5, -40]];
    let dataBar3 = [["group", "score"]];
    for (let i = 0; i < 50; i++) {
      let element = [i + 1, Math.floor(((Math.random() + Math.random() + Math.random() + Math.random() + Math.random()) / 5 - 0.5) * 50)]
      dataBar3.push(element)
    }

    let dataBar4 = [["group", "gWHg", "score2"],
    [1, 50, 50 + 20],
    [2, 16, 16 + 20],
    [3, 30, 30 + 20],
    [4, 80, 80 + 20],
    ];

    let dataBar5 = [["group", "i", "Score2", "score3", "score4"],
    [1, 50, 30, -70, -50 + 40],
    [2, 80, 60, -100, -80 + 40],
    [3, 30, 10, -50, -30 + 40],
    ];

    let dataBar6 = [["group", "score1", "score2", "score3", "score4", "score5"]];
    for (i = 0; i < 16; i++) {
      let element = [i, Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i)];
      dataBar6.push(element)
    }


    let Saskatoon2010to2019Low = [['Month', 'Low temperature (째C)'], ['January', -19], ['February', -20], ['March', -11], ['April', -3],
    ['May', 4], ['June', 10], ['July', 12], ['August', 10], ['September', 5], ['October', -2], ['November', -11], ['December', -17]]

    let Saskatoon2010to2019High = [['Month', 'High temperature (째C)'], ['January', -8], ['February', -9], ['March', 0], ['April', 10],
    ['May', 19], ['June', 23], ['July', 25], ['August', 24], ['September', 19], ['October', 10], ['November', -2], ['December', -8]]

    let Saskatoon2010to2019Avg = [['Month', 'High temperature (째C)'], ["January", -13.5], ["February", -14.5], ["March", -5.5], ["April", 3.5],
    ["May", 11.5], ["June", 16.5], ["July", 18.5], ["August", 17], ["September", 12], ["October", 4], ["November", -6.5], ["December", -12.5]]


    // example 1
    let population = [['Country', 'Population (million)'], ["UK", 68], ["Japan", 126], ["Germany", 84], ["France", 65], ["Italy", 60]]
    let bar1 = new yd3.Bar(population, {      frameBottom: 0,
      marginBottom: 0,
});

    // example 2 rotate x tick lables, change layout, font
    let populationFourCountry = [['Country', 'Population (million)'], ["UK", 68], ["Japan", 126], ["Germany", 84], ["France", 65], ["Italy", 60]]
    let bar2 = new yd3.Bar(populationFourCountry, {
      title: 'World Population',
      colors: ['#1f9400', '#1f9400'], // second for negative value
      xAxisPosition: ['bottom', 'top'],
      yAxisPosition: ['left', 'right'],
      axisLongLineRemove: ['top', 'right'],
      xAxisFont: '14px times',
      yAxisFont: '14px times',
      backgroundColor: 'rgb(57,204,204, 0.1)',
    });

    Saskatoon2010to2019Low = [['Month', 'Low temperature (째C)'], ['November', -11], ['December', -17], ['January', -19], ['February', -20], ['March', -11]]
    // example 3 negative data
    let bar3 = new yd3.Bar(Saskatoon2010to2019Low, {
      title: 'Saskatoon temprature 2010 to 2019',
      titleY: 0.95,
      titleFont: 'bold 18px arial',
      xPadding: 0.01,
      xAxisFont: '16px times',
      yAxisFont: '16px times',
      xTitle: ' ',  // no xTitle
      xTickLabelRotate: -20,
      yTicks: 5,
      backgroundColor: 'rgba(50, 115, 220, 0.1)',
    });

    br();

    // example 4 change color, bar padding
    let canadaBudget = [['year', 'Surplus/deficit (% GDP)'], ['1995', -4.64], ['1996', -3.62], ['1997', -1.02], ['1998', 0.33],
    ['1999', 0.62], ['2000', 1.42], ['2001', 1.94], ['2002', 0.71], ['2003', 0.55], ['2004', 0.73], ['2005', 0.11], ['2006', 0.93],
    ['2007', 0.92], ['2008', 0.61], ['2009', -0.55], ['2010', -3.59], ['2011', -2.10], ['2012', -1.58], ['2013', -1.17], ['2014', -0.42],
    ['2015', -0.03], ['2016', -0.14], ['2017', -0.93], ['2018', -0.89], ['2019', -0.63]]

    let bar5 = new yd3.Bar(canadaBudget, {
      width: 800,
      height: 350,
      title: 'Canada Budget',
      titleY: 1,
      titleFont: 'bold 28px times',
      frameBottom: 20,
      marginBottom: 10,
      xAxisPosition: ['top'], yAxisPosition: ['left', 'right'], xTitlePosition: ['top'],
      xGridDashArray: '4 2',
      xGridStrokeWidth: 0.2,
      yGridDashArray: '4 2',
      yGridStrokeWidth: 0.2,
    });

    br();

    //bar1.update();
    //bar2.update();
    //bar3.update();
    //bar4.update();
    //bar5.update();

    createTitle("H2", "group bar (clickable legend)");

    let largestCompanies2020 = [
      ['Market cap', 'Microsoft', 'Apple', 'Amazon', 'Alphabet', 'Alibaba', 'Facebook'],
      ['2020 First quarter', 1200, 1113, 971, 799, 522, 475]
    ]
    // example 1
    let bar6 = new yd3.Bar(largestCompanies2020, {
      frameLeft: 40,
      xPadding: 0.01,
      title: 'World Largest Companies',
      titleY: 0.98,
      //frameTop: 0,
      yTitle: 'Market cap (us billion)',
      xTitle: '',
      withinGroupPadding: 0.1
    });


    let techCompany2019 = [['Quarter', 'Microsoft', 'Apple', 'Amazon'],
    ['First', 905, 836, 875],
    ['Second', 1028, 911, 929],
    ['Third', 1062, 1012, 857],
    ['Fourth', 1203, 1305, 916]]

    // example 2
    let bar7 = new yd3.Bar(techCompany2019, {
      frameLeft: 40,
      xPadding: 0.3,
      yPadding: 0.25,
      title: '2019 Microsoft Apple Amazon',
      yTitle: 'Market cap (us billion)',
      legendX: 0.20,
      legendY: 0.18,
      legendWidth: 10,
      legendFont: '12px times'
      //withinGroupPadding: 0.1
    });

    let gdpRate2007to2010 = [['Year', 'US', 'EU', 'World'],
    ['2007', 1.9, 3.2, 4.3],
    ['2008', -0.1, 0.7, 1.9],
    ['2009', -2.5, -4.3, -1.7],
    ['2010', 2.6, 2.2, 4.3]
    ]

    // example 2
    let bar10 = new yd3.Bar(gdpRate2007to2010, {
      colors: ['#DA7C30', '#3E9651', '#6B4C9A'],
      xPadding: 0.25,
      legendX: 0.4,
      yGridStrokeWidth: 0.2,
      title: 'GDP Growth During 08 Financial Crisis',
      yTitle: 'Growth rate (%)'
    });
    br();

    let OwnerOccupiedExpenditures = [['Provinces', '2014', '2015', '2016', '2017', '2018'],
    //    ['Canada', 10191, 10513, 11075, 11477, 11784],
    ['NL', 184, 186, 182, 186, 183],
    ['PEI', 37, 38, 37, 40, 41],
    ['Nova Scotia', 360, 369, 399, 385, 390],
    ['New Brunswick', 302, 313, 308, 312, 315],
    ['Quebec', 2196, 2238, 2376, 2563, 2664],
    ['Ontario', 4135, 4303, 4592, 4648, 4718],
    ['Manitoba', 328, 344, 356, 378, 390],
    ['Saskatchewan', 300, 308, 316, 334, 340],
    ['Alberta', 1097, 1112, 1131, 1142, 1163],
    ['British Columbia', 1237, 1287, 1362, 1471, 1561],
    ['Yukon, NT and NV', 15, 15, 16, 18, 19],
    ]  // https://doi.org/10.25318/3410009501-eng

    // example 3
    let bar11 = new yd3.Bar(OwnerOccupiedExpenditures, {
      width: 800,
      yTitle: "dollar",
      //yGridDashArray: '4 2',
      yGridStrokeWidth: 0.2,
      xPadding: 0.4,
      legendX: 0.1,
      frameLeft: 40,
      yAxisPosition: ['left', 'right'],
      axisLongLineRemove: ['bottom'],
      xTickLabelRotate: -20,
      colors: ['#396AB1', '#DA7C30', '#3E9651', '#CC2529', '#535154', '#6B4C9A', '#922428', '#948B3D'],
      backgroundColor: 'rgba(50, 115, 220, 0.1)',
      title: 'Canada Home Owner-occupied Expenditures'
    });

    //bar4.update();
    //bar5.update();
    //bar6.update();

    createTitle("H2", "stacked bar");

    let CanadaSpendScicence = [['year', 'Natural sciences research', 'Social sciences research', 'Natural sciences related', 'Social sciences related'],
    ['2016/2017', 6124, 968, 2517, 1818],
    ['2017/2018', 6666, 1076, 2690, 1622],
    ['2018/2019', 6435, 1119, 3040, 1665],
    ['2019/2020', 6743, 1204, 3223, 1540],
    ['2020/2021', 6705, 1237, 3168, 1554],
    ] // https://doi.org/10.25318/2710000601-eng

    // example 2
    let stackedBar1 = new yd3.Bar(CanadaSpendScicence, {
      stacked: true,
      frameLeft: 45,
      //legendX: 0.4,
      title: 'Canada Federal expenditures on science',
      yTitle: 'Intentions (million)'
    });


    canadaTemprature = [['Provinces', 'High', 'Low'],
    ['Saskatchewan', 45.0, -56.7],
    ['Alberta', 43.3, -61.1],
    ['British Columbia', 44.4, -58.9],
    ['Manitoba', 44.4, -52.8],
    ['New Brunswick', 39.4, -46.7],
    ['Nova Scotia', 38.3, -41.1],
    ['Ontario', 42.2, -58.3],
    ['Quebec', 40.0, -54.4],
    ['PEI', 36.7, -37.2],
    ['NL', 38.3, -51.1],
    ['NT', 39.4, -59.4],
    ['Nunavut', 34.9, -57.8],
    ['Yukon', 36.5, -63.0]]

    // example 2
    let stackedBar2 = new yd3.Bar(canadaTemprature, {
      stacked: true,
      legendX: 0.88,
      legendY: 0.42,
      legendFont: '15px sans-serif',
      xPadding: 0.3,
      yPadding: 0.08,
      frameBottom: 50,
      xTickLabelRotate: 30,
      xTitle: ' ',
      yTitle: 'Temprature (째C)',
      title: "Canada Record Temprature",
      titleY: 1,
      colors: ['#CC2529', '#009fe1', '#DA7C30', '#3E9651', '#535154', '#6B4C9A', '#922428', '#948B3D']
    });


    let gdp2007to2010 = [
      ['Country', '2007', '2008', '2009', '2010'],
      // ['China', 14.2, 9.7, 9.4, 10.6],
      ['EU', 3.2, 0.7, -4.3, 2.2],
      ['US', 1.9, -0.1, -2.5, 2.6],
      ['Canada', 6.9, 1.0, -2.9, 3.1],
      ['Austrilia', 3.8, 3.7, 1.9, 2.1]
    ]

    // example 2
    let stackedBar3 = new yd3.Bar(gdp2007to2010, {
      stacked: true,
      frameLeft: 45,
      //legendX: 0.4,
      title: 'GDP growth Rate',
      yTitle: '(%)'
    });



    createTitle("H2", "horizontal bar");

    let worldPopulation2020 = [
      ['Country', 'Population(million)'], ['US', 331], ['Indones', 274], ['Pakist', 221], ['Brazil', 213], ['Nigeri', 206], ['Bangladesh', 165],
      ['Russia', 146], ['Mexico', 129], ["Japan", 126], ["Ethiopia", 115], ["Philippines", 110], ["Egypt", 102], ["Vietnam", 97], ["DR Congo", 90],
      ["Turkey", 84], ["Iran", 84], ["Germany", 84],
    ]

    // example 2
    let horizontalBar1 = new yd3.Bar(worldPopulation2020, {
      horizontal: true,
      //  height: 400,
      //width: 300,
      xPadding: 0,
      frameLeft: 60,
      frameTop: 5,

      title: 'World population'
    });


    let OwnerOccupiedExpenditures3 = [['Provinces', '2016', '2017', '2018'],
    ['Quebec', 2376, 2563, 2664],
    ['Ontario', 4592, 4648, 4718],
    ['British Columbia', 1362, 1471, 1561],
    ]  // https://doi.org/10.25318/3410009501-eng


    let horizontalBar2 = new yd3.Bar(OwnerOccupiedExpenditures3, {
      horizontal: true,
      scaleStart: 500,
      xGridStrokeWidth: 0.2,
      frameLeft: 60,
      yTitle: '',
      title: 'Home Owner expenses'
    });



    let p = [['China', 1439],
    ['India', 1380],
    ["Thailand", 70], 
    ["UK", 68], 
    ["France", 65], 
    ["Italy", 60]
    ["Tanzania", 60],
    ["South Africa", 59],
    ["Myanmar", 54],
    ["Kenya", 54],
    ["South Korea", 51],
    ["Colombia", 51],
    ["Spain", 47],]


    let AnotherWorldPopulation2020 = [
      ['Country', 'Population(million)'], ['US', -331], ['Indones', -274], ['Pakist', -221], ['Brazil', -213], ['Nigeri', -206], ['Bangladesh', -165],
      ['Russia', -146], ['Mexico', -129], ["Japan", -126], ["Ethiopia", -115], ["Philippines", -110], ["Egypt", -102], ["Vietnam", -97], ["DR Congo", -90],
      ["Turkey", -84], ["Iran", -84], ["Germany", -84], ["Thailand", -70], ["UK", -68], ["France", -65], ["Italy", -60],
    ]

    // example 2
    let bar13b = new yd3.Bar(AnotherWorldPopulation2020, {
      horizontal: true,
      height: 400,
      width: 300,
      xPadding: 0,
      frameRight: 60,
      frameLeft: 0,
      marginLeft: 0,
    });


    let bar14 = new yd3.Bar(dataBar5, {
      horizontal: true,
    });


    // example 2
    let bar15 = new yd3.Bar(dataBar5, {
      stacked: true,
      horizontal: false,
      legendX: 0.5,
      legendY: 0,
      scaleStart: 5,

    });



    let dataBar40 = [["group", "gWHg", "score2"],
    [1, -50, -50 + 20],
    [2, -16, -16 - 20],
    [3, -30, -30 + 20],
    [4, -80, -80 + 20],
    ];



    // example 2
    let bar150 = new yd3.Bar(dataBar40, {
      stacked: true,
      horizontal: true,
      legendX: 0.5,
      legendY: 0,
      scaleStart: -10,

    });


    createTitle("H2", "sortableBar");

    // example 1
    let sortableBar1 = new yd3.SortableBar(Saskatoon2010to2019Low, { horizontal: true, xPadding: 1 });
    // example 2
    let sortableBar2 = new yd3.SortableBar(dataBar2, {
    });
    br();
    // example 3
    let sortableBar3 = new yd3.SortableBar(dataBar3, {
      left: 50, top: 50, right: 50, bottom: 50,
      location: 'body',
      colors: ['steelblue', '#CC2529']
    });

    //sortableBar1.update();
    //sortableBar2.update();
    //sortableBar3.update();


    createTitle("H2", "histogram");


    // example 1  
    let histogram1 = new yd3.Histogram(dataHistogram);
    // example 2 
    let histogram2 = new yd3.Histogram(dataHistogram, {
      nBins: 30,
      yAxisPosition: ['right']
    });
    br();
    // example 3 
    let histogram3 = new yd3.Histogram(dataHistogram, {
      margin: 50,
      location: 'body',
      nBins: 100
    });

    //histogram1.update();
    //histogram2.update();
    //histogram3.update();


    createTitle("H2", "line");

    let gdpGrowth = [
      ['year', 'Vietnam', 'Egypt', 'Canada'],
      ['2013', 5.42, 2.19, 2.48,],
      ['2014', 5.98, 2.92, 2.86,],
      ['2015', 6.68, 4.37, 1.00,],
      ['2016', 6.21, 4.35, 1.41,],
      ['2017', 6.81, 4.18, 3.05,],
      ['2018', 6.60, 5.30, 2.00,],
      ['average', 6.28, 3.88, 2.13],
    ]

    // example 1  
    let linedot1 = new yd3.LineDot(dataLineDot1, { dotRadius: 1 });
    // example 2
    let linedot2 = new yd3.LineDot(gdpGrowth, {

      dotRadius: 1
    });
    br();
    // example 3 
    let linedot3 = new yd3.LineDot(dataLineDot3, {

      margin: 50,
      location: 'body',
      dotRadius: 1,
      colors: ['#396AB1', '#DA7C30', '#3E9651', '#CC2529', '#535154', '#6B4C9A', '#922428', '#948B3D']
    });


    createTitle("H2", "lineDot");


    gdpRate = [
      ['year', 'China', 'US', 'Malaysia', 'Israel'],
      ['2013', 7.76, 1.68, 4.69, 4.11],
      ['2014', 7.30, 2.57, 6.01, 3.41],
      ['2015', 6.90, 2.86, 5.03, 3.04],
      ['2016', 6.70, 1.49, 4.22, 4.09],
      ['2017', 6.90, 2.27, 5.90, 3.33],
      ['2018', 6.50, 2.80, 4.70, 3.50],
      ['average', 7.01, 2.28, 5.09, 3.58]
    ]

    // example 1  
    let linedot4 = new yd3.LineDot(dataLineDot1, { dotRadius: 5, yPadding: 5 });
    // example 2
    let linedot5 = new yd3.LineDot(gdpRate, {
      dotRadius: 6,
      xPadding: 0.4,
      title: 'GDP growth 2013-2018',
      yTitle: 'growth rate (%)'

    });
    br();
    // example 3 
    let linedot6 = new yd3.LineDot(dataLineDot3, {
      margin: 50,
      location: 'body',
      dotRadius: 10,
      colors: ['#396AB1', '#DA7C30', '#3E9651', '#CC2529', '#535154', '#6B4C9A', '#922428', '#948B3D'],
      legendX: 0,
      legendY: 0,
      legendWidth: 10,
      legendFont: '10px times',

    });


    //linedot1.update();
    //linedot2.update();
    //linedot3.update();
    //linedot4.update();
    //linedot5.update();
    //linedot6.update();

    createTitle("H2", "scatter");


    dataScatter2 = [["age", "WWWWWWWiii", "score2", "gWggH", "i2654"]];
    for (i = 0; i < 60; i++) {
      let element = [i + 18, Math.floor(Math.random() * 100), Math.floor(Math.random() * 100 + 200), Math.floor(Math.random() * 100 + 400), Math.floor(Math.random() * 100 + 600)]
      dataScatter2.push(element)
    }


    // example 1  
    let scatter1 = new yd3.Scatter(Saskatoon2010to2019Low);
    // example 2 
    let scatter2 = new yd3.Scatter(dataScatter2, {

    });
    br();
    // example 3 
    let scatter3 = new yd3.Scatter(dataScatter3, {
      margin: 50,
      location: 'body',
      dotRadius: 4,
      colors: ['#396AB1', '#DA7C30', '#3E9651', '#CC2529', '#535154', '#6B4C9A', '#922428', '#948B3D'],
      legendX: 0.81,
      legendY: 0.28,
      legendWidth: 10,
      legendFont: '10px times',
    });

    //scatter1.update();
    //scatter2.update();
    //scatter3.update();

  </script>
</body>

</html>