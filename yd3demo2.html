<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="x"></div>
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src='./yd3.iife.js'> </script>
  <script> console.log(yd3)</script>
  <script>

    function createTitle(level, head) {
      let h = document.createElement(level); // Create the H1 element 
      let t = document.createTextNode(head); // Create a text element 
      h.appendChild(t); // Append the text node to the H1 element 
      document.body.appendChild(h); // Append the H1 element to the document
    }
    function br() {
      let br = document.createElement("br");
      document.body.appendChild(br);
    }

    //generate a sudo normal distributed dataset
    let dataHistogram = [["age"]];
    for (let i = 0; i < 600; i++) {
      let element = [(Math.random() + Math.random() + Math.random() + Math.random() + Math.random()) / 5 * 100]
      dataHistogram.push(element)
    }

    //let dataLineDot1 = [["group", "score"], [1, 50], [2, 80], [3, 30], [4, 40], [5, 20]];
    let dataLineDot1 = [["group", "score"], [1, 50], [2, -80], [3, 30], [4, 40], [5, 20]];
    let dataLineDot2 = [["group", "score1", "score2", "score3", "score4"],
    [1, 50, 50 - 20, 50 + 20, 50 + 40],
    [2, 160, 160 - 20, 160 + 20, 160 + 40],
    [3, 30, 30 - 20, 30 + 20, 30 + 40],
    [4, 80, 80 - 20, 80 + 20, 80 + 40],
    [5, 20, 20 - 20, 20 + 20, 20 + 40]
    ];

    let dataLineDot3 = [["age", "score1", "score2", "score3", "score4", "score5", "score6"]];
    for (i = 0; i < 50; i++) {
      let element = [i + 18, Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i)]
      dataLineDot3.push(element)
    }


    let dataScatter1 = [["age", "score1"]];
    for (i = 0; i < 50; i++) {
      let element = [i + 18, Math.floor(Math.random() * 100)]
      dataScatter1.push(element)
    }

    let dataScatter2 = [["age", "score1", "score2", "score3", "score4"]];
    for (i = 0; i < 60; i++) {
      let element = [i + 18, Math.floor(Math.random() * 100), Math.floor(Math.random() * 100 + 200), Math.floor(Math.random() * 100 + 400), Math.floor(Math.random() * 100 + 600)]
      dataScatter2.push(element)
    }
    let dataScatter3 = [["age", "score1", "score2", "score3", "score4", "score5", "score6"]];
    for (i = 0; i < 300; i++) {
      let element = [
        i + 18,
        Math.floor(Math.random() * 100 * (300 - i)),
        Math.floor(Math.random() * 100 * (300 - i)),
        Math.floor(Math.random() * 100 * (300 - i)),
        Math.floor(Math.random() * 100 * (300 - i)),
        Math.floor(Math.random() * 100 * (300 - i)),
        Math.floor(Math.random() * 100 * (300 - i))
      ]
      dataScatter3.push(element)
    }


    createTitle("H1", "yd3 Demo");
    createTitle("H2", "bar");


    let dataBar2 = [["group", "score"], [1, -50], [2, -80], [3, -30], [4, -70], [5, -40]];
    let dataBar3 = [["group", "score"]];
    for (let i = 0; i < 50; i++) {
      let element = [i + 1, Math.floor(((Math.random() + Math.random() + Math.random() + Math.random() + Math.random()) / 5 - 0.5) * 50)]
      dataBar3.push(element)
    }

    let dataBar4 = [["group", "score1", "score2"],
    [1, 50, 50 + 20],
    [2, 16, 16 + 20],
    [3, 30, 30 + 20],
    [4, 80, 80 + 20],
    ];

    let dataBar5 = [["group", "score1", "score2", "score3", "score4"],
    [1, 50, 30, -70, -50 + 40],
    [2, 80, 60, -100, -80 + 40],
    [3, 30, 10, -50, -30 + 40],
    ];

    let dataBar6 = [["group", "score1", "score2", "score3", "score4", "score5"]];
    for (i = 0; i < 16; i++) {
      let element = [i, Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i), Math.floor(Math.random() * 100 * i)];
      dataBar6.push(element)
    }

    let worldPopulation2020 = [
      ['Country', 'Population(million)'],
      ['China', 1439],
      ['India', 1380],
      ['US', 331],
      ['Indones', 274],
      ['Pakist', 221],
      ['Brazil', 213],
      ['Nigeri', 206],
      ['Bangladesh', 165],
      ['Russia', 146],
      ['Mexico', 129],
      ["Japan", 126],
      ["Ethiopia", 115],
      ["Philippines", 110],
      ["Egypt", 102],
      ["Vietnam", 97],
      ["DR Congo", 90],
      ["Turkey", 84],
      ["Iran", 84],
      ["Germany", 84],
      ["Thailand", 70],
      ["UK", 68],
      ["France", 65],
      ["Italy", 60],
      ["Tanzania", 60],
      ["South Africa", 59],
      ["Myanmar", 54],
      ["Kenya", 54],
      ["South Korea", 51],
      ["Colombia", 51],
      ["Spain", 47],
    ]

    let canadaTemprature = [['Provinces', 'Record high (°C)', 'Record low (°C)'],
    ['Alberta', 43.3, -61.1],
    ['British Columbia', 44.4, -58.9],
    ['Manitoba', 44.4, -52.8],
    ['New Brunswick', 39.4, -46.7],
    ['Nova Scotia', 38.3, -41.1],
    ['Ontario', 42.2, -58.3],
    ['PEI', 36.7, -37.2],
    ['Quebec', 40.0, -54.4],
    ['Saskatchewan', 45.0, -56.7]
    ]

    let Saskatoon2010to2019Low = [['Month', 'Low temperature (°C)'], ['January', -19], ['February', -20], ['March', -11], ['April', -3], 
    ['May', 4], ['June', 10], ['July', 12], ['August', 10], ['September', 5], ['October', -2], ['November', -11], ['December', -17]]
    
    let Saskatoon2010to2019High = [['Month', 'High temperature (°C)'], ['January', -8], ['February', -9], ['March', 0], ['April', 10], 
    ['May', 19], ['June', 23], ['July', 25], ['August', 24], ['September', 19], ['October', 10], ['November', -2], ['December', -8]]
    
    let Saskatoon2010to2019Avg = [['Month', 'High temperature (°C)'], ["January", -13.5], ["February", -14.5], ["March", -5.5], ["April", 3.5], 
    ["May", 11.5], ["June", 16.5], ["July", 18.5], ["August", 17], ["September", 12], ["October", 4], ["November", -6.5], ["December", -12.5]]

    // example 1
    dataBar1 = [['Country', 'Population (million)'], ["UK", 68], ["Japan", 126], ["Germany", 84], ["France", 65], ["Italy", 60]]
    let bar1 = new yd3.Bar(dataBar1, {yPadding: 0.5, backgroundColor: 'grey', title: "check color"});

    // example 2 rotate x tick lables, change layout, font
    dataBar2 = [['Country', 'Population (million)'], ["UK", 68], ["Japan", 126], ["Germany", 84], ["France", 65], ["Italy", 60]]
    let bar2 = new yd3.Bar(dataBar2, {
      xAxisPosition: ['bottom', 'top'], yAxisPosition: ['right'],
      axisLongLineRemove: ['top', 'right'],
      xAxisFont: '14px times', yAxisFont: '14px times',
      horizontal: true,
    });

    Saskatoon2010to2019Low = [['Month', 'Low temperature (°C)'], ['November', -11], ['December', -17], ['January', -19], ['February', -20], ['March', -11]]
    // example 3 negative data
    let bar3 = new yd3.Bar(Saskatoon2010to2019Low, {barPadding: 0.05,  
      title: 'Saskatoon temprature 2010 to 2019',  
      titleFont: '32px arial', yAxisPosition: ['left'], horizontal: true,   
});

    // example 4 change color, bar padding
    let bar4 = new yd3.Bar(Saskatoon2010to2019Low, {
      colors: ['#CC2529', '#1f9400'], // second for negative value
      barPadding: 0.3,
      xAxisFont: '16px times', yAxisFont: '16px times',
      xTitle: ' ',   // no xTitle
      xTickLabelRotate: -20,
      yTicks: 5,
      horizontal: true,
    });


    // example 5, both positive and negative data
    let canadaBudget = [['year', 'Surplus/deficit (% GDP)'], ['1995', -4.64], ['1996', -3.62], ['1997', -1.02], ['1998', 0.33],
    ['1999', 0.62], ['2000', 1.42], ['2001', 1.94], ['2002', 0.71], ['2003', 0.55], ['2004', 0.73], ['2005', 0.11], ['2006', 0.93],
    ['2007', 0.92], ['2008', 0.61], ['2009', -0.55], ['2010', -3.59], ['2011', -2.10], ['2012', -1.58], ['2013', -1.17], ['2014', -0.42],
    ['2015', -0.03], ['2016', -0.14], ['2017', -0.93], ['2018', -0.89], ['2019', -0.63]]

    let bar5 = new yd3.Bar(canadaBudget, {
      width: 800,
      height: 500,
      horizontal: true,
      xAxisPosition: ['top'], yAxisPosition: ['left', 'right'], xTitlePosition: ['top'],
      xGridDashArray: '4 2',
      xGridStrokeWidth: 0.2,
      yGridDashArray: '4 2',
      yGridStrokeWidth: 0.2,
    });


    br();

    //bar1.update();
    //bar2.update();
    //bar3.update();
    //bar4.update();
    //bar5.update();


    createTitle("H2", "group bar");

    // example 1
    let bar9 = new yd3.Bar(dataBar4, { stacked: false, withinGroupPadding: 0.3 });
    // example 2
    let bar10 = new yd3.Bar(dataBar5, {
      stacked: true
    });
    br();
    // example 3
    let bar11 = new yd3.Bar(dataBar6, {
      width: 600,
      "margin-left": 60,
      location: 'body',
      xPosition: ['bottom'], yPosition: ['right'], xTitlePosition: ['bottom'], yTitlePosition: ['right'],
      colors: ['#396AB1', '#DA7C30', '#3E9651', '#CC2529', '#535154', '#6B4C9A', '#922428', '#948B3D']
    });

    //bar4.update();
    //bar5.update();
    //bar6.update();

    createTitle("H2", "stack bar");

    createTitle("H2", "horizontal bar");


    createTitle("H2", "sortableBar");

    // example 1
    let sortableBar1 = new yd3.SortableBar(Saskatoon2010to2019Low, {horizontal: true, xPadding: 1});
    // example 2
    let sortableBar2 = new yd3.SortableBar(dataBar2, {
    });
    br();
    // example 3
    let sortableBar3 = new yd3.SortableBar(dataBar3, {
      left: 50, top: 50, right: 50, bottom: 50,
      location: 'body',
      colors: ['steelblue', '#CC2529']
    });

    //sortableBar1.update();
    //sortableBar2.update();
    //sortableBar3.update();


    createTitle("H2", "histogram");


    // example 1  
    let histogram1 = new yd3.Histogram(dataHistogram);
    // example 2 
    let histogram2 = new yd3.Histogram(dataHistogram, {
      nBins: 30,
      yAxisPosition:['right']
    });
    br();
    // example 3 
    let histogram3 = new yd3.Histogram(dataHistogram, {
      margin: 50,
      location: 'body',
      nBins: 100
    });

    //histogram1.update();
    //histogram2.update();
    //histogram3.update();


    createTitle("H2", "line");

    // example 1  
    let linedot1 = new yd3.LineDot(dataLineDot1, { dotRadius: 1 });
    // example 2
    let linedot2 = new yd3.LineDot(dataLineDot2, {
      
      dotRadius: 1
    });
    br();
    // example 3 
    let linedot3 = new yd3.LineDot(dataLineDot3, {
      
      margin: 50,
      location: 'body',
      dotRadius: 1,
      colors: ['#396AB1', '#DA7C30', '#3E9651', '#CC2529', '#535154', '#6B4C9A', '#922428', '#948B3D']
    });


    createTitle("H2", "lineDot");

    // example 1  
    let linedot4 = new yd3.LineDot(dataLineDot1, { dotRadius: 5, yPadding: 5});
    // example 2
    let linedot5 = new yd3.LineDot(dataLineDot2, {
      
    });
    br();
    // example 3 
    let linedot6 = new yd3.LineDot(dataLineDot3, {
      
      margin: 50,
      location: 'body',
      dotRadius: 5,
      colors: ['#396AB1', '#DA7C30', '#3E9651', '#CC2529', '#535154', '#6B4C9A', '#922428', '#948B3D']
    });


    //linedot1.update();
    //linedot2.update();
    //linedot3.update();
    //linedot4.update();
    //linedot5.update();
    //linedot6.update();

    createTitle("H2", "scatter");

    // example 1  
    let scatter1 = new yd3.Scatter(dataScatter1);
    // example 2 
    let scatter2 = new yd3.Scatter(dataScatter2, {
      
    });
    br();
    // example 3 
    let scatter3 = new yd3.Scatter(dataScatter3, {
      
      margin: 50,
      location: 'body',
      dotRadius: 4,
      colors: ['#396AB1', '#DA7C30', '#3E9651', '#CC2529', '#535154', '#6B4C9A', '#922428', '#948B3D']
    });

    scatter1.update();
    scatter2.update();
    scatter3.update();

  </script>
</body>

</html>